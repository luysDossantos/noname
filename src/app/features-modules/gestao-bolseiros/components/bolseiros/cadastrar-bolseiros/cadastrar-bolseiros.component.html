<div class="custom-modal-layout">
  <div class="modal-header">
      <div class="icon">
          <img src="icons/plus-circle.svg" alt="Email Icon" />
      </div>
      <span class="title">Adicionar bolseiro</span>
      <p-button icon="pi pi-times" class="close-btn" [rounded]="true" [text]="true" (onClick)="cancel()" />
  </div>
  <form [formGroup]="bolseiroForm" (ngSubmit)="save()">

      <div class="">
          <p-stepper [(value)]="activeStep" class="basis-[50rem]">
              <p-step-list>
                  <p-step [value]="1">
                      <ng-template #content let-activateCallback="activateCallback" let-value="value">
                          <a class="step-indicator" [class.active]="value==activeStep" (click)="activateCallback(1)">
                              <div class="number">1</div>
                              <div class="label">
                                  Dados pessoais
                              </div>
                          </a>
                      </ng-template>
                  </p-step>
                  <p-step [value]="2">
                      <ng-template #content let-activateCallback="activateCallback" let-value="value">
                          <a class="step-indicator" [class.active]="value==activeStep" (click)="activateCallback(2)">
                              <div class="number">2</div>
                              <div class="label">
                                  Contacto e endereço
                              </div>
                          </a>
                      </ng-template>
                  </p-step>
              </p-step-list>
              <p-step-panels>
                  <p-step-panel [value]="1">
                      <ng-template #content let-activateCallback="activateCallback">

                          <div class="p-fluid grid">
                              <div class="field col-12">
                                  <label for="name">Nome do bolseiro</label>
                                  <input id="name" type="text" class="w-full" pInputText formControlName="nome"
                                      placeholder="Nome do bolseiro" />
                              </div>

                              <div class="field col-6">
                                  <label for="nacionalidadeID">Nacionalidade</label>
                                  <p-select id="nacionalidadeID" class="w-full" [options]="nacionalidades" optionLabel="label" optionValue="id"
                                      placeholder="Selecione a nacionalidade" formControlName="nacionalidadeID" />
                              </div>

                              <div class="field col-6">
                                  <label for="dataNascimento">Data de Nascimento</label>
                                  <p-datepicker id="dataNascimento" class="w-full" [showIcon]="true"
                                      placeholder="Selecione a data de nascimento" formControlName="dataNascimento" />
                              </div>

                              <div class="field col-6">
                                  <label for="estadoCivil">Estado Civil</label>
                                  <p-select id="estadoCivil" class="w-full" [options]="estadoCivilOptions" optionLabel="label" optionValue="id"
                                      placeholder="Selecione o estado civil" formControlName="estadoCivil" />
                              </div>

                              <div class="field col-6">
                                  <label for="genero">Gênero</label>
                                  <p-select id="genero" class="w-full" [options]="generoOptions" optionLabel="label" optionValue="id"
                                      placeholder="Selecione o gênero" formControlName="genero" />
                              </div>

                              <div class="field col-12">
                                  <label for="nivelAcademicoId">Nível Acadêmico</label>
                                  <p-select id="nivelAcademicoId" class="w-full" [options]="nivelAcademicoOptions" optionLabel="label" optionValue="id"
                                      placeholder="Selecione o nível acadêmico" formControlName="nivelAcademicoId" />
                              </div>

                          </div>

                      </ng-template>
                  </p-step-panel>

                  <p-step-panel [value]="2">
                      <ng-template #content let-activateCallback="activateCallback">
                          <div class="p-fluid grid">
                              <div class="field col-6">
                                  <label for="contactoPrincipal">Contacto Principal</label>
                                  <input id="contactoPrincipal" type="text" class="w-full" pInputText formControlName="contactoPrincipal"
                                      placeholder="Contacto principal" />
                              </div>
                              <div class="field col-6">
                                  <label for="contactoSecundario">Contacto Secundário</label>
                                  <input id="contactoSecundario" type="text" class="w-full" pInputText formControlName="contactoSecundario"
                                      placeholder="Contacto familiar" />
                              </div>

                              <div class="field col-6">
                                  <label for="provincia">Província</label>
                                  <p-select id="provincia" class="w-full" [options]="provincias" optionLabel="label" optionValue="id"
                                      placeholder="Selecione a província" formControlName="provincia" />
                              </div>

                              <div class="field col-6">
                                  <label for="municipioID">Município</label>
                                  <p-select id="municipioID" class="w-full" [options]="municipios" optionLabel="label" optionValue="id"
                                      placeholder="Selecione o município" formControlName="municipioID" />
                              </div>

                              <div class="field col-12">
                                  <label for="endereco">Endereço</label>
                                  <input id="endereco" type="text" class="w-full" pInputText formControlName="endereco"
                                      placeholder="Endereço" />
                              </div>

                              <div class="field col-6">
                                  <label for="email">Email</label>
                                  <input id="email" type="text" class="w-full" pInputText formControlName="email"
                                      placeholder="Email" />
                              </div>

                          </div>
                      </ng-template>
                  </p-step-panel>
              </p-step-panels>
          </p-stepper>
      </div>

      <div class="modal-footer">
          <button pButton type="button" label="Cancelar" class="p-button-outlined" (click)="cancel()"></button>
          <button pButton type="submit" label="Guardar" class="p-button-primary" [disabled]="!bolseiroForm.valid" (click)="save()"></button>
      </div>
  </form>
</div>
